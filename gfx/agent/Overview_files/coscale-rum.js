if(window.CoscaleObj.BOOMR_load){throw new Error("Tried to load CoScale RUM snippet twice.")}window.CoscaleObj.BOOMR_load=true;BOOMR_start=new Date().getTime();function addErrorEvent(b){var a=window.onerror;if(typeof window.onerror!="function"){window.onerror=b}else{window.onerror=function(){if(a){a()}b()}}}addErrorEvent(function(){window.CoscaleObj.e++});function BOOMR_check_doc_domain(b){var c;if(!b){if(window.parent===window||!document.getElementById("boomr-if-as")){return}b=document.domain}if(b.indexOf(".")===-1){return}try{c=window.parent.document;return}catch(a){document.domain=b}try{c=window.parent.document;return}catch(a){b=b.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(b)}BOOMR_check_doc_domain();(function(i){var f,g,e,a,c,j,b,h;if(i.parent!==i&&document.getElementById("boomr-if-as")&&document.getElementById("boomr-if-as").nodeName.toLowerCase()==="script"){i=i.parent;a=document.getElementById("boomr-if-as").src}e=i.document;if(!i.BOOMR){i.BOOMR={}}CoScale=i.BOOMR;BOOMR=i.BOOMR;if(BOOMR.version){return}BOOMR.version="0.9.1472028993";BOOMR.window=i;if(!BOOMR.plugins){BOOMR.plugins={}}(function(){try{if(new i.CustomEvent("CustomEvent")!==undefined){c=function(k,l){return new i.CustomEvent(k,l)}}}catch(d){}try{if(!c&&e.createEvent&&e.createEvent("CustomEvent")){c=function(l,m){var k=e.createEvent("CustomEvent");m=m||{cancelable:false,bubbles:false};k.initCustomEvent(l,m.bubbles,m.cancelable,m.detail);return k}}}catch(d){}if(!c&&e.createEventObject){c=function(l,m){var k=e.createEventObject();k.type=k.propertyName=l;k.detail=m.detail;return k}}if(!c){c=function(){return undefined}}}());j=function(d,m,l){var n=c(d,{detail:m});if(!n){return}function k(){if(e.dispatchEvent){e.dispatchEvent(n)}else{if(e.fireEvent){e.fireEvent("onpropertychange",n)}}}if(l){BOOMR.setImmediate(k)}else{k()}};if(typeof document.hidden!=="undefined"){b="visibilityState";h="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){b="mozVisibilityState";h="mozvisibilitychange"}else{if(typeof document.msHidden!=="undefined"){b="msVisibilityState";h="msvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){b="webkitVisibilityState";h="webkitvisibilitychange"}}}}f={page_tag:"",beacon_url:"",beacon_type:"AUTO",site_domain:i.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",strip_query_string:false,onloadfired:false,handlers_attached:false,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[],user_start:[],user_stop:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},xb_handler:function(d){return function(k){var l;if(!k){k=i.event}if(k.target){l=k.target}else{if(k.srcElement){l=k.srcElement}}if(l.nodeType===3){l=l.parentNode}if(l&&l.nodeName.toUpperCase()==="OBJECT"&&l.type==="application/x-shockwave-flash"){return}f.fireEvent(d,l)}},fireEvent:function(d,o){var l,m,k;d=d.toLowerCase();if(!this.events.hasOwnProperty(d)){return false}if(this.public_events.hasOwnProperty(d)){j(this.public_events[d],o)}k=this.events[d];for(l=0;l<k.length;l++){try{m=k[l];m.fn.call(m.scope,o,m.cb_data)}catch(n){BOOMR.addError(n,"fireEvent."+d+"<"+l+">")}}return true}};g={t_lstart:null,t_start:BOOMR_start,t_end:null,url:a,utils:{objectToString:function(p,n,l){var m=[],d;if(!p||typeof p!=="object"){return p}if(n===undefined){n="\n\t"}if(!l){l=0}if(Object.prototype.toString.call(p)==="[object Array]"){for(d=0;d<p.length;d++){if(l>0&&p[d]!==null&&typeof p[d]==="object"){m.push(this.objectToString(p[d],n+(n==="\n\t"?"\t":""),l-1))}else{if(n==="&"){m.push(encodeURIComponent(p[d]))}else{m.push(p[d])}}}n=","}else{for(d in p){if(Object.prototype.hasOwnProperty.call(p,d)){if(l>0&&p[d]!==null&&typeof p[d]==="object"){m.push(encodeURIComponent(d)+"="+this.objectToString(p[d],n+(n==="\n\t"?"\t":""),l-1))}else{if(n==="&"){m.push(encodeURIComponent(d)+"="+encodeURIComponent(p[d]))}else{m.push(d+"="+p[d])}}}}}return m.join(n)},getCookie:function(d){if(!d){return null}d=" "+d+"=";var k,l;l=" "+e.cookie+";";if((k=l.indexOf(d))>=0){k+=d.length;l=l.substring(k,l.indexOf(";",k));return l}return null},setCookie:function(m,n,d){var o,l,k,q,p;if(!m||!f.site_domain){return false}o=this.objectToString(n,"&");l=m+"="+o;q=[l,"path=/","domain="+f.site_domain];if(d){p=new Date();p.setTime(p.getTime()+d*1000);p=p.toGMTString();q.push("expires="+p)}if(l.length<500){e.cookie=q.join("; ");k=this.getCookie(m);if(o===k){return true}}else{}return false},getSubCookies:function(o){var n,m,d,q,k=false,p={};if(!o){return null}if(typeof o!=="string"){return null}n=o.split("&");for(m=0,d=n.length;m<d;m++){q=n[m].split("=");if(q[0]){q.push("");p[decodeURIComponent(q[0])]=decodeURIComponent(q[1]);k=true}}return k?p:null},removeCookie:function(d){return this.setCookie(d,{},-86400)},cleanupURL:function(d){if(!d){return""}if(f.strip_query_string){return d.replace(/\?.*/,"?qs-redacted")}return d},hashQueryString:function(k,d){if(!k){return k}if(!k.match){BOOMR.addError("TypeError: Not a string","hashQueryString",typeof k);return""}if(k.match(/^\/\//)){k=location.protocol+k}if(!k.match(/^(https?|file):/)){return""}if(d){k=k.replace(/#.*/,"")}if(!BOOMR.utils.MD5){return k}return k.replace(/\?([^#]*)/,function(m,l){return"?"+(l.length>10?BOOMR.utils.MD5(l):l)})},pluginConfig:function(p,d,m,l){var k,n=0;if(!d||!d[m]){return false}for(k=0;k<l.length;k++){if(d[m][l[k]]!==undefined){p[l[k]]=d[m][l[k]];n++}}return(n>0)},addObserver:function(m,k,n,r,l,q){var p={observer:null,timer:null};if(!window.MutationObserver||!r||!m){return null}function d(o){var s=false;if(p.timer){clearTimeout(p.timer);p.timer=null}if(r){s=r.call(q,o,l);if(!s){r=null}}if(!s&&p.observer){p.observer.disconnect();p.observer=null}if(typeof s==="number"&&s>0){p.timer=setTimeout(d,s)}}p.observer=new MutationObserver(d);if(n){p.timer=setTimeout(d,p.timeout)}p.observer.observe(m,k);return p},addListener:function(l,k,d){if(l.addEventListener){l.addEventListener(k,d,false)}else{if(l.attachEvent){l.attachEvent("on"+k,d)}}},removeListener:function(l,k,d){if(l.removeEventListener){l.removeEventListener(k,d,false)}else{if(l.detachEvent){l.detachEvent("on"+k,d)}}},pushVars:function(p,r,q){var n,o,d=0,m;for(n in r){if(r.hasOwnProperty(n)){if(Object.prototype.toString.call(r[n])==="[object Array]"){for(o=0;o<r[n].length;++o){d+=BOOMR.utils.pushVars(p,r[n][o],n+"["+o+"]")}}else{m=document.createElement("input");m.type="hidden";m.name=(q?(q+"["+n+"]"):n);m.value=(r[n]===undefined||r[n]===null?"":r[n]);p.appendChild(m);d+=encodeURIComponent(m.name).length+encodeURIComponent(m.value).length+2}}}return d},getBeaconUrl:function(){return f.beacon_url},sendData:function(l,o){var k=document.createElement("input"),n=[f.beacon_url];l.method=o;l.id="beacon_form";l.enctype="application/x-www-form-urlencoded";if(f.secondary_beacons&&f.secondary_beacons.length){n.push.apply(n,f.secondary_beacons)}function d(q){var p=document.getElementById(q);if(p){p.parentNode.removeChild(p)}}function m(){var q,p="boomerang_post-"+encodeURIComponent(l.action)+"-"+Math.random();try{q=document.createElement('<iframe name="'+p+'">')}catch(r){q=document.createElement("iframe")}l.action=n.shift();l.target=q.name=q.id=p;q.style.display=l.style.display="none";q.src="javascript:false";d(q.id);d(l.id);document.body.appendChild(q);document.body.appendChild(l);l.submit();if(n.length){BOOMR.setImmediate(m)}setTimeout(function(){d(q.id)},10000)}m()},timeDiff:function(k,l){if(k<=0||l<=0||k<l){return 0}var d=k-l;return(d<3600000)?d:0}},init:function(l){var n,d,m=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string","secondary_beacons"];BOOMR_check_doc_domain();if(!l){l={}}for(n=0;n<m.length;n++){if(l[m[n]]!==undefined){f[m[n]]=l[m[n]]}}if(l.log!==undefined){this.log=l.log}if(!this.log){this.log=function(){}}for(d in this.plugins){if(this.plugins.hasOwnProperty(d)){if(l[d]&&l[d].hasOwnProperty("enabled")&&l[d].enabled===false){f.disabled_plugins[d]=1;continue}if(f.disabled_plugins[d]){if(!l[d]||!l[d].hasOwnProperty("enabled")||l[d].enabled!==true){continue}delete f.disabled_plugins[d]}if(typeof this.plugins[d].init==="function"){try{this.plugins[d].init(l)}catch(o){BOOMR.addError(o,d+".init")}}}}if(f.handlers_attached){return this}if(!f.onloadfired&&(l.autorun===undefined||l.autorun!==false)){if(e.readyState&&e.readyState==="complete"){BOOMR.loadedLate=true;this.setImmediate(BOOMR.page_ready,null,null,BOOMR)}else{if(i.onpagehide||i.onpagehide===null){BOOMR.utils.addListener(i,"pageshow",BOOMR.page_ready)}else{BOOMR.utils.addListener(i,"load",BOOMR.page_ready)}}}BOOMR.utils.addListener(i,"DOMContentLoaded",function(){f.fireEvent("dom_loaded")});(function(){var k,p;if(h!==undefined){BOOMR.utils.addListener(e,h,function(){f.fireEvent("visibility_changed")});BOOMR.subscribe("visibility_changed",function(){BOOMR.lastVisibilityEvent[BOOMR.visibilityState()]=BOOMR.now()})}BOOMR.utils.addListener(e,"mouseup",f.xb_handler("click"));k=e.getElementsByTagName("form");for(p=0;p<k.length;p++){BOOMR.utils.addListener(k[p],"submit",f.xb_handler("form_submit"))}if(!i.onpagehide&&i.onpagehide!==null){BOOMR.utils.addListener(i,"unload",function(){BOOMR.window=i=null})}}());f.handlers_attached=true;return this},page_ready:function(d){if(!d){d=i.event}if(!d){d={name:"load"}}if(f.onloadfired){return this}f.fireEvent("page_ready",d);f.onloadfired=true;return this},MarkerStart:function(d){if(!d){return this}data={name:d,start:BOOMR.now()};f.fireEvent("user_start",data);return this},MarkerStop:function(d){if(!d){return this}data={name:d,stop:BOOMR.now(),};f.fireEvent("user_stop",data,this.impl);return this},Tag:function(d){if(f.page_tag==""){f.page_tag=d}return this},setImmediate:function(l,m,k,n){var d=function(){l.call(n||null,m,k||{});d=null};if(i.setImmediate){i.setImmediate(d)}else{if(i.msSetImmediate){i.msSetImmediate(d)}else{if(i.webkitSetImmediate){i.webkitSetImmediate(d)}else{if(i.mozSetImmediate){i.mozSetImmediate(d)}else{setTimeout(d,10)}}}}},now:(function(){try{if("performance" in window&&window.performance&&window.performance.now){return function(){return Math.round(window.performance.now()+window.performance.timing.navigationStart)}}}catch(d){}return Date.now||function(){return new Date().getTime()}}()),visibilityState:(b===undefined?function(){return"visible"}:function(){return e[b]}),lastVisibilityEvent:{},subscribe:function(d,o,k,q){var l,n,p,m;d=d.toLowerCase();if(!f.events.hasOwnProperty(d)){return this}p=f.events[d];for(l=0;l<p.length;l++){n=p[l];if(n&&n.fn===o&&n.cb_data===k&&n.scope===q){return this}}p.push({fn:o,cb_data:k||{},scope:q||null});if(d==="page_ready"&&f.onloadfired){this.setImmediate(o,null,k,q)}if(d==="page_unload"||d==="before_unload"){m=function(r){if(o){o.call(q,r||i.event,k)}};if(d==="page_unload"){if(i.onpagehide||i.onpagehide===null){BOOMR.utils.addListener(i,"pagehide",m)}else{BOOMR.utils.addListener(i,"unload",m)}}BOOMR.utils.addListener(i,"beforeunload",m)}return this},addError:function(k,m,d){var l;if(typeof k!=="string"){l=String(k);if(l.match(/^\[object/)){l=k.name+": "+(k.description||k.message).replace(/\r\n$/,"")}k=l}if(m!==undefined){k="["+m+":"+BOOMR.now()+"] "+k}if(d){k+=":: "+d}if(f.errors[k]){f.errors[k]++}else{f.errors[k]=1}},addVar:function(l,m){if(typeof l==="string"){f.vars[l]=m}else{if(typeof l==="object"){var n=l,d;for(d in n){if(n.hasOwnProperty(d)){f.vars[d]=n[d]}}}}return this},removeVar:function(k){var d,l;if(!arguments.length){return this}if(arguments.length===1&&Object.prototype.toString.apply(k)==="[object Array]"){l=k}else{l=arguments}for(d=0;d<l.length;d++){if(f.vars.hasOwnProperty(l[d])){delete f.vars[l[d]]}}return this},hasVar:function(d){return f.vars.hasOwnProperty(d)},requestStart:function(k){var d=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+k,d);return{loaded:function(l){BOOMR.responseEnd(k,d,l)}}},responseEnd:function(k,d,l){if(typeof k==="object"&&k.url){f.fireEvent("xhr_load",k)}else{BOOMR.plugins.RT.startTimer("xhr_"+k,d);f.fireEvent("xhr_load",{name:"xhr_"+k,data:l})}},sendBeacon:function(){var l,o,m,d,n,p=[];for(l in this.plugins){if(this.plugins.hasOwnProperty(l)){if(f.disabled_plugins[l]){continue}if(!this.plugins[l].is_complete()){return false}}}if(f.page_tag!=""){f.vars.l=f.page_tag}else{f.vars.pgu=BOOMR.utils.cleanupURL(e.URL.replace(/#.*/,""));if(!f.vars.u){f.vars.u=f.vars.pgu}if(f.vars.pgu===f.vars.u){delete f.vars.pgu}}if(BOOMR.utils.getCookie("GUID")){f.vars.g=BOOMR.utils.getCookie("GUID")}if(i!==window){f.vars["if"]=""}for(l in f.errors){if(f.errors.hasOwnProperty(l)){p.push(l+(f.errors[l]>1?" (*"+f.errors[l]+")":""))}}if(p.length>0){f.vars.errors=p.join("\n")}f.errors={};f.fireEvent("before_beacon",f.vars);docTime=f.vars.c+f.vars.t+f.vars.d;backendTime=f.vars.duration;if(docTime>f.vars.fstResStTime&&f.vars.fstResStTime>0){backendTime+=f.vars.fstResStTime}else{backendTime+=docTime}f.vars.p=(backendTime>0&&f.vars.nt_load_end>0)?backendTime/(f.vars.nt_load_end-f.vars.nt_nav_st)*100:0;BOOMR.removeVar("duration");BOOMR.removeVar("fstResStTime");BOOMR.removeVar("nt_nav_st");BOOMR.removeVar("nt_load_end");if(!f.beacon_url){return true}o=document.createElement("form");n=BOOMR.utils.pushVars(o,f.vars);f.fireEvent("onbeacon",f.vars);if(!n){return this}BOOMR.utils.sendData(o,f.beacon_type==="AUTO"?(n>2000?"POST":"GET"):"POST");return true},sendBeaconNow:function(p){if(f.page_tag!=""){p.u=f.page_tag}else{p.u=BOOMR.utils.cleanupURL(e.URL.replace(/#.*/,""))}if(BOOMR.utils.getCookie("GUID")){p.g=BOOMR.utils.getCookie("GUID")}var l,o,m,d,n,q=[];if(!f.beacon_url){return true}o=document.createElement("form");n=BOOMR.utils.pushVars(o,p);if(!n){return this}BOOMR.utils.sendData(o,f.beacon_type==="AUTO"?(n>2000?"POST":"GET"):"POST");return true}};delete BOOMR_start;if(typeof BOOMR_lstart==="number"){g.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else{if(typeof BOOMR.window.BOOMR_lstart==="number"){g.t_lstart=BOOMR.window.BOOMR_lstart}}(function(){var d;if(typeof console==="object"&&console.log!==undefined){g.log=function(k,n,o){if(window.CoscaleObj.l){console.log(o+": ["+n+"] "+k)}}}d=function(k){return function(l,n){this.log(l,k,"boomerang"+(n?"."+n:""));return this}};g.debug=d("debug");g.info=d("info");g.warn=d("warn");g.error=d("error")}());(function(){var d;for(d in g){if(g.hasOwnProperty(d)){BOOMR[d]=g[d]}}if(!BOOMR.xhr_excludes){BOOMR.xhr_excludes={}}}());j("onBoomerangLoaded",{BOOMR:BOOMR},true)}(window));if(document.addEventListener){document.addEventListener("onBoomerangLoaded",function(a){a.detail.BOOMR.init({beacon_url:window.CoscaleObj.b+"/rum/v1/app/"+window.CoscaleObj.t+"/data/",})})}else{if(document.attachEvent){document.attachEvent("onpropertychange",function(a){if(!a){a=event}if(a.propertyName==="onBoomerangLoaded"){a.detail.BOOMR.init({beacon_url:window.CoscaleObj.b+"/rum/v1/app/"+window.CoscaleObj.t+"/data/",})}})}}(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(BOOMR.plugins.NavigationTiming){return}var a={complete:false,xhr_done:function(f){var b=BOOMR.window,d,e={},c;if(!f){return}if(f.data){f=f.data}if(f.url&&b.performance&&b.performance.getEntriesByName){d=b.performance.getEntriesByName(f.url);if(d&&d.length>0){d=d[0];e={nt_con_st:d.connectStart,nt_con_end:d.connectEnd,nt_req_st:d.requestStart,nt_res_st:d.responseStart,nt_res_end:d.responseEnd};if(d.secureConnectionStart){}for(c in e){if(e.hasOwnProperty(c)&&e[c]){e[c]+=b.performance.timing.navigationStart}}}}if(f.timing){d=f.timing;if(!e.nt_req_st){e.nt_req_st=d.requestStart}if(!e.nt_res_st){e.nt_res_st=d.responseStart}if(!e.nt_res_end){e.nt_res_end=d.responseEnd}e.nt_load_st=d.loadEventEnd;e.nt_load_end=d.loadEventEnd}for(c in e){if(e.hasOwnProperty(c)&&!e[c]){delete e[c]}}BOOMR.addVar(e);try{a.addedVars.push.apply(a.addedVars,Object.keys(e))}catch(g){}this.complete=true;BOOMR.sendBeacon()},done:function(){var b=BOOMR.window,f,c,e,d;if(this.complete){return this}a.addedVars=[];f=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance;if(f&&f.timing&&f.navigation){c=f.navigation;e=f.timing;d={nt_nav_st:e.navigationStart,nt_load_end:e.loadEventEnd,c:BOOMR.utils.timeDiff(e.connectEnd,e.navigationStart),t:BOOMR.utils.timeDiff(e.responseStart,e.requestStart),d:BOOMR.utils.timeDiff(e.responseEnd,e.responseStart),s:BOOMR.utils.timeDiff(e.loadEventStart,e.navigationStart),e:BOOMR.utils.timeDiff(e.loadEventEnd,e.navigationStart),x:window.CoscaleObj.e,};if(e.secureConnectionStart){d.nt_ssl_st=e.secureConnectionStart}if(e.msFirstPaint){d.nt_first_paint=e.msFirstPaint}BOOMR.addVar(d);try{a.addedVars.push.apply(a.addedVars,Object.keys(d))}catch(g){}}this.complete=true;BOOMR.sendBeacon()},clear:function(b){if(a.addedVars&&a.addedVars.length>0){BOOMR.removeVar(a.addedVars);a.addedVars=[]}this.complete=false}};BOOMR.plugins.NavigationTiming={init:function(){if(!a.initialized){BOOMR.subscribe("page_ready",a.done,null,a);BOOMR.subscribe("onbeacon",a.clear,null,a);a.initialized=true}return this},is_complete:function(){return a.complete}}}());(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};var b={rtname:"rt_name",connectStart:"rt_con_st",connectEnd:"rt_con_end",requestStart:"rt_req_st",responseStart:"rt_res_st"},a={complete:false,done:function(){var h=BOOMR.window.performance,e,f,d,c;if(a.complete){return}BOOMR.removeVar("restiming");if(h&&typeof h.getEntriesByType==="function"){e=h.getEntriesByType("resource");if(e){f={r:new Array(e.length)};var g=startTime=endTime=fstResStTime=0;for(d=0;d<e.length;++d){if(d==0){fstResStTime=e[d].startTime}f.r[d]={u:e[d].name,c:e[d].connectEnd>0?e[d].connectEnd-e[d].startTime:0,t:BOOMR.utils.timeDiff(e[d].responseStart,e[d].requestStart),d:BOOMR.utils.timeDiff(e[d].responseEnd,e[d].responseStart),};if(e[d].startTime>endTime){g+=endTime-startTime;startTime=e[d].startTime;endTime=e[d].responseEnd}else{if(e[d].responseEnd>endTime){endTime=e[d].responseEnd}}}g+=endTime-startTime;BOOMR.addVar("duration",g);BOOMR.addVar("fstResStTime",fstResStTime);BOOMR.addVar(f)}}this.complete=true;BOOMR.sendBeacon()}};BOOMR.plugins.ResourceTiming={init:function(){BOOMR.subscribe("page_ready",a.done,null,a);return this},is_complete:function(){return a.complete}}}());(function(a){var b={expires:604800,cookieName:"GUID",generate:function(){function c(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c()}};BOOMR.plugins.GUID={init:function(d){var e=["cookieName","expires"];BOOMR.utils.pluginConfig(b,d,"GUID",e);if(!BOOMR.utils.getCookie(b.cookieName)){var c=b.generate();if(!BOOMR.utils.setCookie(b.cookieName,c,b.expires)){BOOMR.subscribe("before_beacon",function(){BOOMR.utils.setCookie(b.cookieName,c,b.expires)})}}else{}return this},is_complete:function(){return true}}}(this));(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};var a={markers:{},navTiming:{},resTiming:{},start:function(b){if(!b.hasOwnProperty("name")||!b.hasOwnProperty("start")){return this}if(!this.markers[b.name]){this.markers[b.name]={start:b.start,errors:window.CoscaleObj.e}}return this},done:function(g){var d=0,b=0,k=0,h,m,j,e,l,f,c;if(!g.hasOwnProperty("name")||!g.hasOwnProperty("stop")){return this}f=this.markers[g.name];if(!f){return this}c=g.stop-f.start;if(this.getNavTiming()&&this.getResTiming()){l={r:[],t:c,x:window.CoscaleObj.e-f.errors,m:g.name};for(h=0;h<this.resTiming.r.length;++h){m=this.resTiming.r[h];j=this.navTiming.nt_nav_st+m.rt_con_end;e=this.navTiming.nt_nav_st+m.rt_res_end;if(j>=f.start&&e<g.stop){l.r.push(m.coscaleVars);if(m.rt_st>k){d+=k-b;b=m.rt_st;k=m.rt_res_end}else{if(m.rt_res_end>k){k=m.rt_res_end}}}}d+=k-b;l.p=(d>0&&c>0)?d/c*100:0;BOOMR.sendBeaconNow(l)}delete this.markers[g.name];return this},getNavTiming:function(){var b=BOOMR.window,f,c,e,d;f=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance;if(f&&f.timing&&f.navigation){c=f.navigation;e=f.timing;d={nt_nav_st:e.navigationStart,nt_load_end:e.loadEventEnd,};this.navTiming=d;return true}return false},getResTiming:function(){var g=BOOMR.window.performance,e,f,c,d,b;if(g&&typeof g.getEntriesByType==="function"){e=g.getEntriesByType("resource");if(e){f={r:[]};for(c=0;c<e.length;++c){if(e[c].name.indexOf(BOOMR.utils.getBeaconUrl())>-1){continue}d={u:e[c].name,c:e[c].connectEnd>0?e[c].connectEnd-e[c].startTime:0,t:(e[c].responseStart>0&&e[c].requestStart>0)?e[c].responseStart-e[c].requestStart:0,d:(e[c].responseStart>0)?e[c].responseEnd-e[c].responseStart:0,};b={rt_st:e[c].startTime,rt_con_end:e[c].connectEnd,rt_res_end:e[c].responseEnd,coscaleVars:d};f.r.push(b)}this.resTiming=f;return true}}return false}};BOOMR.plugins.UserTiming={init:function(){BOOMR.subscribe("user_start",a.start,null,a);BOOMR.subscribe("user_stop",a.done,null,a);return this},is_complete:function(){return true}}}());BOOMR.t_end=new Date().getTime();